//***************************************************************************//
//*                                                                     *****//
//*                         BARRA LATERALE
//*                         Layout e Widget
//*                                                                         *//
//***************************************************************************//
//****************************************************************************//
//                             IMPOSTAZIONI GENERALI
//****************************************************************************//

/*
 * Contneuto Sidebar - rimozione Ombra
 */
.has-gradient .right_sidebar #sidebar_content,
.has-gradient .right_sidebar #sidebar_content:after {
  background-image: none;
}

.right_sidebar #sidebar_content.lessgap {
  padding-top: 0;
  padding-left: 0;
}



//****************************************************************************//
//                           WIDGET
//****************************************************************************//
#sidebar section.widget {
  background-color: main-colors(main, bg-alt);
}
/*
 * Ultimo Widget
 */
#sidebar section.widget:last-child {
  margin-bottom: 0 !important;
}


/*
 * Titoli
 */
#sidebar .widgettitle {
  padding: ( size(h3, lh) * 2 ) size(h3, lh) size(h3, lh);
  margin-bottom: 0;
  text-align: center;
}



/*
 * Corpo
 */
#sidebar .widget ul {
  padding: 0 $line-height ( $line-height * 2 ) $line-height;
}

//****************************************************************************//
//                           WIDGET DI TEST
//****************************************************************************//

#sidebar .widget {

  &.widget_text,
  &.text_text_icl {
    position: relative;
    background-image: url(http://duchessamargherita.langhe.net/files/2017/04/terrazza.jpg);
    background-size: cover;
    text-align: center;
    background-blend-mode: luminosity;

    &::before {
      @include color-overlay(color--dark, 0.8);
    }

    h3 {
      padding: (size(h3, lh) * 2) size(h3, lh) 0 size(h3, lh);
      z-index: 1;
      position: relative;
      color: main-colors(main, bg);
      a {
        color: main-colors(main, bg);

        &:hover {
          color: main-colors(main, bg)
        }
      }
    }
    p {
      padding: 0 ($line-height * 2) ($line-height * 2);
      z-index: 1;
      position: relative;
      color: main-colors(main, bg);

      a {
        color: main-colors(main, bg);
        text-decoration: underline;

        &:hover {
          color: main-colors(main, bg)
        }
      }
    }
  }
}

//****************************************************************************//
//                           COLOR LINK
//****************************************************************************//
#sidebar .widget .posts_list a,
#sidebar .widget .posts_list a:visited,
#sidebar .widget a,
#sidebar .widget a:visited {

  &:hover {
    color: main-colors(main, body)
  }
}

///
// LINK Nav Menu
///
#sidebar .widget.widget_nav_menu a,
#sidebar .widget.widget_nav_menu a:visited {

  &:hover {
    color: main-colors(main, body)
  }
}




//****************************************************************************//
//                           SIDEBAR SU MOBILE
//****************************************************************************//
#sidebar_content {
  @include breakpoint-max(md) {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-items: flex-start;

    section.widget {
      width: 47.5%;
      margin-right: 5%;

      &:nth-child(even) {
        margin-right: 0;
      }
    }
  }

  @at-root .right_sidebar #{&} {
    @include breakpoint-max(xs) {
      padding-left: $line-height;
      padding-right: $line-height;
    }
  }
}
